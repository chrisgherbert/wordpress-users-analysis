{% extends 'base.twig' %}

{% block content %}

	<h4>

		Data for {{ site.name }} ({{ site.url }})

		{% if users_collection.current_page > 1 %} <small>(page {{ users_collection.current_page }})</small> {% endif %}

	</h4>

	{% if error %}
		<div class="alert alert-danger">
			{{ error }}
		</div>
	{% endif %}

	<hr>

	<h4>
		Found {{ users_collection.total_items }} Users
	</h4>

	{% if users_collection.total_pages > 1 %}

		<ul class="pagination">

			{% for page in users_collection.pagination %}

				<li {% if page.current %}class="active"{% endif %}>
					<a href="{{ page.url }}">
						{{ page.num }}
					</a>
				</li>

			{% endfor %}

		</ul>

	{% endif %}

	<table class="table">

		<thead>

			<tr>
				<th>Avatar</th>
				<th>Name</th>
				<th>ID</th>
				<th>Posts Link</th>
				<th>Description</th>
				<th>Email/Hash</th>
			</tr>

		</thead>

		<tbody>

			{% for user in users_collection.users %}

				<tr {% if user.email %}class="success"{% endif %}>
					<td>
						<a href="{{ user.avatar(500) }}">
							<img src="{{ user.avatar(30) }}">
						</a>
					</td>
					<td><strong>{{ user.name }}</strong> ({{ user.slug }})</td>
					<td>{{ user.id }}</td>
					<td>
						{% if user.link %}
							<a href="{{ user.link }}">{{ user.link }}</a>
						{% endif %}
					</td>
					<td>
						{{ user.description|raw }}
					</td>
					<td>{{ user.email|default(user.email_hash) }}</td>
				</tr>

			{% endfor %}

		</tbody>

	</table>

	{% if users_collection.total_pages > 1 %}

		<ul class="pagination">

			{% for page in users_collection.pagination %}

				<li {% if page.current %}class="active"{% endif %}>
					<a href="{{ page.url }}">
						{{ page.num }}
					</a>
				</li>

			{% endfor %}

		</ul>

	{% endif %}

{% endblock %}